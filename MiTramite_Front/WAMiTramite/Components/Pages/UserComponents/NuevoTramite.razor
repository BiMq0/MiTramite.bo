@rendermode InteractiveServer

<div class="container-fluid px-0">
    <!-- Trámites Disponibles -->
    <div class="row mb-4 mx-0">
        <div class="col-12">
            <h5 class="mb-4">
                <i class="bi bi-file-earmark-plus me-2 text-primary"></i>
                Trámites Disponibles
            </h5>
        </div>

        <!-- Afiliación de Trabajador Dependiente -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm hover-card" style="cursor: pointer;"
                @onclick="@(() => IniciarTramite("afiliacion-trabajador"))">
                <div class="card-body p-4">
                    <div class="text-center mb-3">
                        <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px;">
                            <i class="bi bi-person-badge text-primary" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h5 class="card-title text-center mb-3">Afiliación de Trabajador Dependiente</h5>
                    <p class="card-text text-muted small text-center mb-4">
                        Registra a tu trabajador dependiente en el sistema municipal para acceder a beneficios laborales
                        y sociales.
                    </p>
                    <div class="d-grid">
                        <button class="btn btn-primary" type="button">
                            <i class="bi bi-arrow-right-circle me-2"></i>
                            Iniciar Trámite
                        </button>
                    </div>

                    <!-- Información adicional -->
                    <div class="mt-3 p-3 bg-light rounded">
                        <h6 class="small mb-2 text-primary">
                            <i class="bi bi-info-circle me-1"></i>
                            Requisitos:
                        </h6>
                        <ul class="small mb-0 text-muted">
                            <li>Cédula de identidad</li>
                            <li>Contrato de trabajo</li>
                            <li>Formulario de afiliación</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acceso a Renta Dignidad -->
        <div class="col-md-6 mb-4">
            <div class="card h-100 shadow-sm hover-card" style="cursor: pointer;"
                @onclick="@(() => IniciarTramite("renta-dignidad"))">
                <div class="card-body p-4">
                    <div class="text-center mb-3">
                        <div class="bg-success bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center"
                            style="width: 80px; height: 80px;">
                            <i class="bi bi-cash-coin text-success" style="font-size: 2rem;"></i>
                        </div>
                    </div>
                    <h5 class="card-title text-center mb-3">Acceso a Renta Dignidad</h5>
                    <p class="card-text text-muted small text-center mb-4">
                        Solicita el acceso al beneficio de Renta Dignidad para adultos mayores de 60 años.
                    </p>
                    <div class="d-grid">
                        <button class="btn btn-success" type="button">
                            <i class="bi bi-arrow-right-circle me-2"></i>
                            Iniciar Trámite
                        </button>
                    </div>

                    <!-- Información adicional -->
                    <div class="mt-3 p-3 bg-light rounded">
                        <h6 class="small mb-2 text-success">
                            <i class="bi bi-info-circle me-1"></i>
                            Requisitos:
                        </h6>
                        <ul class="small mb-0 text-muted">
                            <li>Cédula de identidad</li>
                            <li>Certificado de nacimiento</li>
                            <li>Formulario de solicitud</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Próximamente -->
    <div class="row mx-0">
        <div class="col-12">
            <div class="card border-2 border-dashed">
                <div class="card-body text-center py-5">
                    <div class="mb-3">
                        <i class="bi bi-clock-history text-muted display-4"></i>
                    </div>
                    <h5 class="text-muted mb-3">Próximamente</h5>
                    <p class="text-muted mb-4">
                        Estamos trabajando en nuevos trámites digitales para brindarte una mejor experiencia.
                        <br>
                        Pronto podrás acceder a:
                    </p>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="p-3">
                                <i class="bi bi-building text-primary fs-2 mb-2"></i>
                                <div class="small text-muted">Licencias de Funcionamiento</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-3">
                                <i class="bi bi-house text-primary fs-2 mb-2"></i>
                                <div class="small text-muted">Permisos de Construcción</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-3">
                                <i class="bi bi-file-earmark-text text-primary fs-2 mb-2"></i>
                                <div class="small text-muted">Certificados Municipales</div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <button class="btn btn-outline-primary" disabled>
                            <i class="bi bi-bell me-2"></i>
                            Notificarme cuando estén disponibles
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .hover-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .hover-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;
    }

    .card {
        border: none;
        border-radius: 12px;
    }

    .border-dashed {
        border-style: dashed !important;
        border-color: #dee2e6 !important;
    }
</style>

@code {
    private void IniciarTramite(string tipoTramite)
    {
        // TODO: Implementar navegación a formulario específico del trámite
        // Por ahora mostramos una alerta o modal

        string mensaje = tipoTramite switch
        {
            "afiliacion-trabajador" => "Redirigiendo al formulario de Afiliación de Trabajador Dependiente...",
            "renta-dignidad" => "Redirigiendo al formulario de Acceso a Renta Dignidad...",
            _ => "Iniciando trámite..."
        };

        // Aquí se puede implementar la navegación al formulario específico
        // Navigation.NavigateTo($"/user/formulario/{tipoTramite}");

        // Por ahora solo log para demostración
        Console.WriteLine($"Iniciando trámite: {tipoTramite}");

        // Simulación de redirección futura
        // TODO: Crear páginas de formularios específicos para cada trámite
    }
}